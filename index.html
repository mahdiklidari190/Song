<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FlxFy — Neon Dark Download</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0a0a0f;
      --fg:#cfcff7;
      --accent:#7c5cff;
      --glow1: #00f5ff;
      --glow2: #ff00ff;
      --glow3: #ffea00;
      --btnText:#0b0b10;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 800px at 20% 0%, #121225 0%, #0a0a12 40%, #06060b 100%);
      color:var(--fg);
      font-family:'Poppins',system-ui,Segoe UI,Roboto,Arial;
      overflow:hidden;
    }

    /* Subtle animated moving gradient “aurora” layer */
    .aurora{
      position:fixed; inset:0;
      background:
        radial-gradient(800px 500px at 15% 10%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(700px 400px at 85% 20%, rgba(0,245,255,.20), transparent 60%),
        radial-gradient(600px 400px at 50% 90%, rgba(255,0,255,.18), transparent 60%);
      filter: blur(40px) saturate(130%);
      animation: drift 16s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes drift {
      from { transform: translate3d(-20px,-10px,0) scale(1.02); }
      to   { transform: translate3d(20px,10px,0)  scale(1.06); }
    }

    /* Fireworks canvas */
    canvas#fx{
      position:fixed; inset:0;
      pointer-events:none;
      mix-blend-mode: screen;
    }

    /* Content wrapper */
    .wrap{
      position:relative;
      z-index:5;
      display:grid;
      place-items:center;
      height:100%;
      text-align:center;
      padding:24px;
    }

    /* Title */
    h1{
      font-weight:700;
      letter-spacing:.8px;
      margin:0 0 10px;
      background: linear-gradient(90deg, #fff, #c8a8ff 30%, #aaf3ff 55%, #ffe680 80%, #fff);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow:
        0 0 12px rgba(124,92,255,.25),
        0 0 24px rgba(0,245,255,.15);
    }

    /* Subtitle */
    p.sub{
      margin:0 0 28px;
      opacity:.9;
      font-weight:300;
    }

    /* Neon card with RGB perimeter */
    .card{
      position:relative;
      padding:28px 28px 36px;
      border-radius:22px;
      background: rgba(12,12,20,.45);
      backdrop-filter: blur(10px) saturate(120%);
      box-shadow:
        0 12px 40px rgba(124,92,255,.15),
        inset 0 0 60px rgba(124,92,255,.08);
      overflow:hidden;
    }
    /* Animated RGB border */
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      border-radius:24px;
      padding:2px;
      background: conic-gradient(
        from var(--deg, 0deg),
        #ff004c, #ffea00, #00f5ff, #7c5cff, #ff004c
      );
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
              mask-composite: exclude;
      animation: spin 6s linear infinite;
    }
    @keyframes spin { to { --deg: 360deg; } }

    /* Download button */
    .btn{
      display:inline-grid;
      place-items:center;
      min-width:220px;
      padding:16px 24px;
      border-radius:14px;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.6px;
      color:#fff;
      background:
        radial-gradient(120% 180% at 20% 20%, rgba(255,255,255,.15), transparent 40%),
        linear-gradient(135deg, #7c5cff 0%, #00f5ff 50%, #ff00ff 100%);
      box-shadow:
        0 0 16px rgba(124,92,255,.45),
        0 8px 28px rgba(0,0,0,.6),
        inset 0 0 24px rgba(255,255,255,.12);
      border: none;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition: transform .15s ease, filter .2s ease;
    }
    .btn:hover{
      transform: translateY(-2px);
      filter: brightness(1.08) saturate(1.1);
    }
    /* Moving glossy highlight */
    .btn::after{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        linear-gradient(120deg, rgba(255,255,255,.35), rgba(255,255,255,0) 30%),
        radial-gradient(80px 40px at var(--hx, -20%) 50%, rgba(255,255,255,.25), transparent 60%);
      mix-blend-mode: overlay;
      pointer-events:none;
      animation: sweep 2.8s ease-in-out infinite;
    }
    @keyframes sweep {
      0%   { --hx: -20%; }
      50%  { --hx: 120%; }
      100% { --hx: -20%; }
    }

    /* Small helper text */
    .hint{
      margin-top:14px;
      font-size:.84rem;
      opacity:.7;
    }

    /* Footer note */
    .footer{
      position:fixed;
      left:0; right:0; bottom:10px;
      text-align:center;
      font-size:.8rem;
      opacity:.6;
    }
    .footer a{ color:#9fdcff; text-decoration:none }
    .footer a:hover{ text-decoration:underline }
  </style>
</head>
<body>
  <div class="aurora"></div>
  <canvas id="fx"></canvas>

  <div class="wrap">
    <div class="card">
      <h1>FlxFy Mobile</h1>
      <p class="sub">Ultra-dark neon page with RGB glow and fireworks — tap to download.</p>

      <button class="btn" id="downloadBtn" aria-label="Download APK">
        Download
      </button>
      <div class="hint">Tap “Download” to get the APK. Fireworks celebrate the click.</div>
    </div>
  </div>

  <div class="footer">
    Made with ❤️ neon vibes. <a href="https://github.com/mahdiklidari190/Song" target="_blank" rel="noopener">Project repo</a>
  </div>

  <script>
    // RAW URL of the APK file (GitHub)
    const APK_URL = "https://github.com/mahdiklidari190/Song/raw/refs/heads/main/FlxFy-mobile.apk";

    // Force-download via Blob for consistent filename and headers
    async function forceDownload(url, filename = "FlxFy-mobile.apk"){
      const res = await fetch(url, { mode: "cors" });
      if(!res.ok) throw new Error("Failed to fetch file.");
      const blob = await res.blob();
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      setTimeout(() => {
        URL.revokeObjectURL(link.href);
        link.remove();
      }, 1000);
    }

    // Fireworks effect (simple particle system)
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");
    let W, H, particles = [];
    const colors = ["#ff004c","#ffea00","#00f5ff","#7c5cff","#ff00ff"];

    function resize(){
      W = canvas.width  = window.innerWidth;
      H = canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    function spawn(x, y, count = 80){
      for(let i=0;i<count;i++){
        const angle = Math.random() * Math.PI * 2;
        const speed = 2 + Math.random() * 4;
        particles.push({
          x, y,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          life: 60 + Math.random()*30,
          color: colors[(Math.random()*colors.length)|0],
          size: 1 + Math.random()*2,
          glow: 0.6 + Math.random()*0.6
        });
      }
    }

    function step(){
      ctx.clearRect(0,0,W,H);
      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.03; // gravity
        p.life--;

        // draw
        ctx.globalCompositeOperation = "lighter";
        const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 16 * p.glow);
        g.addColorStop(0, p.color + "cc");
        g.addColorStop(1, "#00000000");
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size * 2.2, 0, Math.PI*2);
        ctx.fill();

        if(p.life <= 0 || p.x<0 || p.x>W || p.y>H+50){
          particles.splice(i,1);
        }
      }
      requestAnimationFrame(step);
    }
    step();

    // Click to download + fireworks burst at button center
    const btn = document.getElementById("downloadBtn");
    btn.addEventListener("click", async (e) => {
      const rect = btn.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top  + rect.height/2;
      spawn(x, y, 120);

      btn.disabled = true;
      btn.style.filter = "brightness(1.2) saturate(1.2)";
      try{
        await forceDownload(APK_URL, "FlxFy-mobile.apk");
      }catch(err){
        console.error(err);
        alert("Download failed. Please try again or open the repo link below.");
      }finally{
        btn.disabled = false;
        btn.style.filter = "";
      }
    });

    // Ambient random fireworks
    setInterval(() => {
      const x = Math.random() * W * 0.9 + W*0.05;
      const y = Math.random() * H * 0.4 + H*0.1;
      spawn(x, y, 60);
    }, 2200);
  </script>
</body>
</html>
